---
layout: default
---
{% assign lehrveranstaltungen=site.lehrveranstaltungen|sort: 'title' %}
{% assign cards = "" | split: "" %} {% for lehrveranstaltung in lehrveranstaltungen %}
{% if lehrveranstaltung.typ != "other" %}
{% capture card %}
{% include veranstaltungsinfo-klein.html lehrveranstaltung=lehrveranstaltung %}
{% endcapture %}
{% assign cards=cards|push:card %}
{% endif %}
{% endfor %}

<section class="section">
  <div class="container" data-starting-date="date-{{site.data.dates["week-1"]["day-1"]["datum"]}}">
    <h2 class="title is-1">Zeitplan</h2>
    {% include /functions/zeitplan.html %}
  </div>
</section>

<script>

Date.prototype.getWeek = function () {
    var onejan = new Date(this.getFullYear(), 0, 1);
    return Math.ceil((((this - onejan) / 86400000) + onejan.getDay() + 1) / 7);
};

let startingDateData = document.querySelector("[data-starting-date]").dataset.startingDate.replace("date-", "");
let startingDate = new Date(startingDateData);
let startingWeek = startingDate.getWeek();

let today = new Date();
let thisWeek = today.getWeek();

let diffWeek = thisWeek - startingWeek;
let scrollTarget = `#week-${diffWeek}`;

document.querySelector(scrollTarget).scrollIntoView({ 
  behavior: 'smooth' 
});

</script>